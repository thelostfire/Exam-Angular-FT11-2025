
<main>
    @if(product$ | async; as product) {
        <section>
            <h2 class="text-6xl font-extrabold text-center text-white">{{ product.name }}</h2>
            <article>
                <div class="img-container">
                    <img src="{{ product.imageUrl }}" alt="Image failed to load">
                    @if (!product.isAvailable) {
                        <p class="unavailable">Produit Indisponible</p>
                    }
                </div>
                <div class="content-container">
                    <h3 class="text-4xl font-bold">Description</h3>
                    <p>{{ product.description }}</p>
                    <div class="price-container">
                        <p>â‚¬{{ product.price }}</p>
                        <app-button-component [text]="'Ajouter au panier'" (clicked)="onAddToCart(product)" [disabled]="!product.isAvailable"></app-button-component>
                    </div>
                </div>
            </article>
            <div class="other-products-container">
                <h3 class="text-2xl font-bold text-white">Nos autres propositions</h3>
                <ul>
                    @for (product of (productsList | async)?.slice(0, 4); track $index; let max = $count) {
                        <li>
                            <app-product-card-component [name]="product.name" [imageUrl]="product.imageUrl" [price]="product.price" [isAvailable]="product.isAvailable"></app-product-card-component>
                        </li>
                    }
                </ul>
            </div>
        </section>
    }
</main>